{"ast":null,"code":"import { products } from '../products';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../cart.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction ProductDetailsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function ProductDetailsComponent_div_3_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.addToCart(ctx_r1.product);\n    });\n    i0.ɵɵtext(9, \"Buy\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, ctx_r0.product.price));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.product.description);\n  }\n}\n\nexport let ProductDetailsComponent = /*#__PURE__*/(() => {\n  class ProductDetailsComponent {\n    // ActivatedRoute is specific to each component that the angular router loads.\n    // AcitvatedRoute contains information about the route and the route's parameters.\n    // By injecting ActivatedRoute, you are configuring the component to use a service.\n    constructor(route, _CartService) {\n      this.route = route;\n      this._CartService = _CartService;\n    }\n\n    ngOnInit() {\n      //First get the proudct id from the current route.\n      const routeParams = this.route.snapshot.paramMap;\n      const productIdFromRoute = Number(routeParams.get('productId')); // Find the product that correspond with the id provided in route.\n\n      this.product = products.find(product => product.id === productIdFromRoute); // the route parameters correspond to the path variables you define in the route. to access the route parameters, we use route.snapshot, which is the ActivatedRouteSnapshot that contains information about the ctive route at that particular moment in time.\n      // the URL that matches the route provieds the productId. Angular uses the productid to display the details for each unique product.\n    }\n\n    addToCart(product) {\n      this._CartService.addToCart(product);\n\n      window.alert('your product has been added to the cart');\n    }\n\n  }\n\n  ProductDetailsComponent.ɵfac = function ProductDetailsComponent_Factory(t) {\n    return new (t || ProductDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CartService));\n  };\n\n  ProductDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDetailsComponent,\n    selectors: [[\"app-product-details\"]],\n    decls: 4,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [3, \"click\"]],\n    template: function ProductDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"Product Details \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"p\");\n        i0.ɵɵtemplate(3, ProductDetailsComponent_div_3_Template, 10, 5, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.product);\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.CurrencyPipe],\n    styles: [\"\"]\n  });\n  return ProductDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}